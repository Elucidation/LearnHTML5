<!DOCTYPE html>
<html>
    <head>
        <title>Learning HTML5</title>

        <style>
            body {
                padding: 10px;
                text-align: center;
            }
            canvas {
                border: 1px solid;
                position: relative;
            }
        </style>
        <script type="text/javascript"> <!--
            var cxt;
            var stat;
            var px, py; // Points arrays
            function init() {
                var c = document.getElementById("argh");
                stat = document.getElementById("stat");
                
                // Initialize points array
                px = new Array();
                py = new Array();
                
                
                cxt = c.getContext("2d");
                cxt.strokeStyle = '#00f';
                cxt.lineWidth = "1";
            }
            
            function drawBox(x,y,w,h) {
                cxt.strokeRect(x,y,w,h);
            }
            
            function drawPoint(x,y) {
                cxt.beginPath();
                cxt.arc(x,y,2,0,Math.PI*2,true);
                cxt.closePath();
                cxt.stroke();
            }
            
            function mouseClick(e)
            {
                var mouseX, mouseY;

                if(e.offsetX) {
                    mouseX = e.offsetX;
                    mouseY = e.offsetY;
                }
                else if(e.layerX) {
                    mouseX = e.layerX;
                    mouseY = e.layerY;
                }
                drawPoint(mouseX,mouseY);
                px [px.length] = mouseX;
                py [py.length] = mouseY;
                
                stat.innerHTML = "<b>Mouse Pos: "+mouseX +", " + mouseY + "</b><br>";
                stat.innerHTML += "Number of Points: "+ px.length + "<br>";
                for (i=0; i < px.length; i++) {
                    stat.innerHTML += "Point #"+i+": "+ px[i] + ", "+ py[i]+"<br>";
                }
                
            }            
            --></script>
    </head>
    <body onload="init();">
        <h1>So far so good.</h1>
        <p>
            <canvas id="argh"
                    width="600" 
                    height="300" 
                    onclick="mouseClick(event);">

            </canvas>
        </p>
        <div id="stat">aa</div>
        <script type="text/javascript"> <!--
            document.write("<p>" + Date() + "</p>");
            --></script>

        <script type="text/javascript">
            if (localStorage.pagecount)
            {
                localStorage.pagecount = Number(localStorage.pagecount) + 1;
            }
            else
            {
                localStorage.pagecount = 1;
            }
            document.write("Visited "+ localStorage.pagecount + " time(s).");
        </script>

    </body>
</html>